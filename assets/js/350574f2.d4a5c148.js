"use strict";(self.webpackChunkkuberocketci_docs=self.webpackChunkkuberocketci_docs||[]).push([[36971],{91704:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"use-cases/application-scaffolding","title":"Scaffold and Deploy FastAPI Application","description":"Learn how to scaffold and deploy a FastAPI application using KubeRocketCI, from setting up your development environment to deploying with GitOps.","source":"@site/versioned_docs/version-3.9/use-cases/application-scaffolding.md","sourceDirName":"use-cases","slug":"/use-cases/application-scaffolding","permalink":"/docs/3.9/use-cases/application-scaffolding","draft":false,"unlisted":false,"editUrl":"https://github.com/KubeRocketCI/docs/edit/main/docs/use-cases/application-scaffolding.md","tags":[],"version":"3.9","lastUpdatedBy":"Sergiy Kulanov","lastUpdatedAt":1740847812000,"frontMatter":{"title":"Scaffold and Deploy FastAPI Application","description":"Learn how to scaffold and deploy a FastAPI application using KubeRocketCI, from setting up your development environment to deploying with GitOps.","sidebar_label":"Scaffold and Deploy FastAPI Application"},"sidebar":"useCasesSidebar","previous":{"title":"KubeRocketCI Use Cases: Practical Scenarios and Solutions","permalink":"/docs/3.9/use-cases/"},"next":{"title":"Secured Secrets Management for Application Deployment","permalink":"/docs/3.9/use-cases/external-secrets"}}');var t=i(74848),l=i(28453);const o={title:"Scaffold and Deploy FastAPI Application",description:"Learn how to scaffold and deploy a FastAPI application using KubeRocketCI, from setting up your development environment to deploying with GitOps.",sidebar_label:"Scaffold and Deploy FastAPI Application"},c="Scaffold and Deploy FastAPI Application",a={},d=[{value:"Overview",id:"overview",level:2},{value:"Roles",id:"roles",level:3},{value:"Goals",id:"goals",level:3},{value:"Preconditions",id:"preconditions",level:3},{value:"Scenario",id:"scenario",level:2},{value:"Scaffold the New FastAPI Application",id:"scaffold-the-new-fastapi-application",level:3},{value:"Deploy Application to the Development Environment",id:"deploy-application-to-the-development-environment",level:3},{value:"Check the Application Status",id:"check-the-application-status",level:3},{value:"Deliver New Code",id:"deliver-new-code",level:3},{value:"Related Articles",id:"related-articles",level:2}];function r(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components},{Head:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"scaffold-and-deploy-fastapi-application",children:"Scaffold and Deploy FastAPI Application"})}),"\n",(0,t.jsx)(s,{children:(0,t.jsx)("link",{rel:"canonical",href:"https://docs.kuberocketci.io/docs/use-cases/application-scaffolding"})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"This use case outlines the process of creating and deploying a FastAPI application using KubeRocketCI.\nThe purpose is to provide developers with a streamlined approach to generate a functional code structure for a FastAPI web application, including basic read functionality. The process also allows for customization to meet specific requirements and deployment to a development environment. By utilizing a standardized process for code review, testing, and deployment, developers can save time and effort while ensuring high code quality and reliability.\nThe goal is to empower the development team to release new features and applications more efficiently, while maintaining a high level of code quality and reliability.\nThe KubeRocketCI is used to facilitate this process."}),"\n",(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,t.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/TcPcIKYvKFo",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"allowfullscreen"})}),"\n",(0,t.jsx)(n.h3,{id:"roles",children:"Roles"}),"\n",(0,t.jsx)(n.p,{children:"This documentation is tailored for the Developers and Team Leads."}),"\n",(0,t.jsx)(n.h3,{id:"goals",children:"Goals"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Create a new FastAPI application quickly."}),"\n",(0,t.jsx)(n.li,{children:"Deploy the initial code to the DEV environment."}),"\n",(0,t.jsx)(n.li,{children:"Check CI pipelines."}),"\n",(0,t.jsx)(n.li,{children:"Delivery update using the GitOps approach."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"preconditions",children:"Preconditions"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["KubeRocketCI instance is ",(0,t.jsx)(n.a,{href:"/docs/3.9/operator-guide/prerequisites",children:"configured"})," with ",(0,t.jsx)(n.a,{href:"/docs/3.9/user-guide/gitops",children:"GitOps"})," repo."]}),"\n",(0,t.jsx)(n.li,{children:"Developer has access to the KubeRocketCI instances using the Single-Sign-On approach."}),"\n",(0,t.jsxs)(n.li,{children:["Developer has merge permissions in the ",(0,t.jsx)(n.a,{href:"/docs/3.9/user-guide/gitops",children:"GitOps"})," repository on GitHub."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"scenario",children:"Scenario"}),"\n",(0,t.jsx)(n.p,{children:"To scaffold and deploy FastAPI Application, follow the steps below."}),"\n",(0,t.jsx)(n.h3,{id:"scaffold-the-new-fastapi-application",children:"Scaffold the New FastAPI Application"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open the Portal URL. Use the ",(0,t.jsx)(n.strong,{children:"Sign-In"})," option."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Logging Page",src:i(36312).A+"",title:"Logging screen",width:"3364",height:"1670"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Ensure ",(0,t.jsx)(n.code,{children:"Namespace"})," value in the User ",(0,t.jsx)(n.strong,{children:"Account settings"})," tab points to the namespace with the KubeRocketCI installation."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Settings",src:i(59608).A+"",title:"Settings button",width:"3364",height:"1670"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Create the new ",(0,t.jsx)(n.code,{children:"Codebase"})," with the ",(0,t.jsx)(n.code,{children:"Application"})," type using the ",(0,t.jsx)(n.code,{children:"Create from template"})," strategy. Select the ",(0,t.jsx)(n.strong,{children:"Components"})," section and press the ",(0,t.jsx)(n.strong,{children:"Create component"})," button."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Components Overview",src:i(10547).A+"",title:"Components tab",width:"3364",height:"1058"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Choose the ",(0,t.jsx)(n.strong,{children:"Application"})," Codebase type as we intend to deliver our application as a container and deploy it within the Kubernetes cluster. Click the ",(0,t.jsx)(n.strong,{children:"Next"})," button."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Codebase Type",src:i(22653).A+"",title:"Step codebase type",width:"1292",height:"1228"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Opt for the ",(0,t.jsx)(n.strong,{children:"Create from template"})," strategy to scaffold our application from the template provided by the KubeRocketCI and press the ",(0,t.jsx)(n.strong,{children:"Create"})," button:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Codebase Strategy",src:i(80018).A+"",title:"Step codebase strategy",width:"1292",height:"1028"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["On the ",(0,t.jsx)(n.strong,{children:"Add component info"})," tab, define the following values and press the ",(0,t.jsx)(n.strong,{children:"Next"})," button:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Git server: ",(0,t.jsx)(n.code,{children:"github"})]}),"\n",(0,t.jsxs)(n.li,{children:["Repository name: ",(0,t.jsx)(n.code,{children:"{github_account_name}/fastapi-demo"})]}),"\n",(0,t.jsxs)(n.li,{children:["Component name: ",(0,t.jsx)(n.code,{children:"fastapi-demo"})]}),"\n",(0,t.jsxs)(n.li,{children:["Description: ",(0,t.jsx)(n.code,{children:"fastapi-demo"})]}),"\n",(0,t.jsxs)(n.li,{children:["Application code language: ",(0,t.jsx)(n.code,{children:"Python"})]}),"\n",(0,t.jsxs)(n.li,{children:["Language version/framework: ",(0,t.jsx)(n.code,{children:"FastAPI"})]}),"\n",(0,t.jsxs)(n.li,{children:["Build tool: ",(0,t.jsx)(n.code,{children:"Python"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Application Info",src:i(48759).A+"",title:"Application info",width:"1000",height:"1231"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["On the ",(0,t.jsx)(n.strong,{children:"Specify advanced settings"})," tab, define the below values and push the ",(0,t.jsx)(n.strong,{children:"Create"})," button:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Default branch: ",(0,t.jsx)(n.code,{children:"main"})]}),"\n",(0,t.jsxs)(n.li,{children:["Codebase versioning type: ",(0,t.jsx)(n.code,{children:"edp"})]}),"\n",(0,t.jsxs)(n.li,{children:["Start version from: ",(0,t.jsx)(n.code,{children:"0.0.1"})," and ",(0,t.jsx)(n.code,{children:"SNAPSHOT"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Advanced Settings",src:i(74034).A+"",title:"Advanced settings",width:"1164",height:"1034"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Check the application status. It should be green:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Components overview page",src:i(89631).A+"",title:"Application status",width:"3364",height:"1036"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"deploy-application-to-the-development-environment",children:"Deploy Application to the Development Environment"}),"\n",(0,t.jsxs)(n.p,{children:["This section outlines the approach for deploying the application from the latest commit on the ",(0,t.jsx)(n.code,{children:"main"})," branch. The following steps are involved:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Build the initial version of the application from the last commit on the ",(0,t.jsx)(n.code,{children:"main"})," branch. This version is generated from the provided template."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Set up a ",(0,t.jsx)(n.code,{children:"CD Pipeline"})," to enable continuous delivery to the development environment."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Deploy the initial version of the application to the development environment."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"To succeed with the steps above, follow the instructions below:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Build Container from the latest branch commit. To build the initial version of the application's ",(0,t.jsx)(n.code,{children:"main"})," branch, go to the ",(0,t.jsx)(n.strong,{children:"Components"})," -> ",(0,t.jsx)(n.strong,{children:"fastapi-demo"})," -> ",(0,t.jsx)(n.strong,{children:"Branches"})," -> ",(0,t.jsx)(n.strong,{children:"main"})," and press the ",(0,t.jsx)(n.strong,{children:"Trigger build pipeline run"})," button."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Build Main Branch",src:i(26441).A+"",title:"Application building",width:"3332",height:"1088"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Build pipeline for the ",(0,t.jsx)(n.code,{children:"fastapi-demo"})," application starts."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Branch Build Pipeline",src:i(80730).A+"",title:"Pipeline building",width:"3330",height:"1658"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Track Pipeline's status by clicking the ",(0,t.jsx)(n.strong,{children:"fastapi-demo-main-build-zwpj"})," pipeline link."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"CD Pipeline",src:i(98280).A+"",title:"CD Pipeline",width:"3364",height:"1670"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Ensure that Build Pipeline was successfully completed."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["To enable application deployment create a CD Pipeline with a single environment - Development (with the name ",(0,t.jsx)(n.code,{children:"dev"}),")."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the UI Portal, navigate to ",(0,t.jsx)(n.strong,{children:"Environments"})," tab and push the ",(0,t.jsx)(n.strong,{children:"Create environment"})," button to create pipeline."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"CD_pipeline",src:i(54208).A+"",title:"Create CD Pipeline",width:"3364",height:"1402"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.strong,{children:"Create environment"})," dialog, define the below values:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Pipeline tab"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Pipeline name: ",(0,t.jsx)(n.code,{children:"mypipe"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"CD Pipeline name",src:i(93924).A+"",title:"Pipeline tab with parameters",width:"1912",height:"520"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Applications tab"}),". Add ",(0,t.jsx)(n.code,{children:"fastapi-demo"})," application, select ",(0,t.jsx)(n.code,{children:"main"})," branch, and leave ",(0,t.jsx)(n.code,{children:"Promote in pipeline"})," unchecked:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"CD Pipeline Add Application",src:i(39985).A+"",title:"Applications tab with parameters",width:"1914",height:"552"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Stages tab"}),". Add the ",(0,t.jsx)(n.code,{children:"dev"})," stage with the values below:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Cluster: ",(0,t.jsx)(n.code,{children:"In cluster"})]}),"\n",(0,t.jsxs)(n.li,{children:["Stage name: ",(0,t.jsx)(n.code,{children:"dev"})]}),"\n",(0,t.jsxs)(n.li,{children:["Description: ",(0,t.jsx)(n.code,{children:"Development Environment"})]}),"\n",(0,t.jsxs)(n.li,{children:["Trigger type: ",(0,t.jsx)(n.code,{children:"Manual"}),". We plan to deploy applications to this environment manually"]}),"\n",(0,t.jsxs)(n.li,{children:["Pipeline template: ",(0,t.jsx)(n.code,{children:"deploy"})]}),"\n",(0,t.jsxs)(n.li,{children:["Quality gate type: ",(0,t.jsx)(n.code,{children:"Manual"})]}),"\n",(0,t.jsxs)(n.li,{children:["Step name: ",(0,t.jsx)(n.code,{children:"approve"})]}),"\n",(0,t.jsxs)(n.li,{children:["Push the ",(0,t.jsx)(n.code,{children:"Apply"})," button"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"CD Pipeline Add Stage",src:i(65843).A+"",title:"Stages tab with parameters",width:"1914",height:"1170"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Deploy the initial version of the application to the development environment:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Open CD Pipeline with the name ",(0,t.jsx)(n.code,{children:"mypipe"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Select the ",(0,t.jsx)(n.code,{children:"dev"})," stage from the ",(0,t.jsx)(n.strong,{children:"Stages"})," tab."]}),"\n",(0,t.jsxs)(n.li,{children:["Push the ",(0,t.jsx)(n.strong,{children:"Configure deploy"})," button."]}),"\n",(0,t.jsxs)(n.li,{children:["In the ",(0,t.jsx)(n.strong,{children:"Select image tag"})," field select version ",(0,t.jsx)(n.code,{children:"0.0.1-SNAPSHOT.1"})," and push the ",(0,t.jsx)(n.strong,{children:"Start deploy"})," button."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"CD Pipeline Deploy initial version",src:i(84730).A+"",title:"CD Pipeline deploy",width:"3364",height:"1336"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"check-the-application-status",children:"Check the Application Status"}),"\n",(0,t.jsx)(n.p,{children:"To ensure the application is deployed successfully, follow the steps below:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Ensure application status is ",(0,t.jsx)(n.code,{children:"Healthy"})," and ",(0,t.jsx)(n.code,{children:"Synced"}),", and the ",(0,t.jsx)(n.code,{children:"Deployed version"})," points to ",(0,t.jsx)(n.code,{children:"0.0.1-SNAPSHOT.1"}),":"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"CD Pipeline health status",src:i(32302).A+"",title:"Pipeline health status",width:"3364",height:"1340"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Check that the selected version of the container is deployed on the ",(0,t.jsx)(n.code,{children:"dev"})," environment. ",(0,t.jsx)(n.code,{children:"${EDP_ENV}"})," - is the EDP namespace name:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Check the deployment status of fastapi-demo application\n$ kubectl get deployments -n ${EDP_ENV}-mypipe-dev\nNAME           READY   UP-TO-DATE   AVAILABLE   AGE\nfastapi-demo   1/1     1            1           14m\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"deliver-new-code",children:"Deliver New Code"}),"\n",(0,t.jsxs)(n.p,{children:["This section describes the code delivery process. We need to deploy our ",(0,t.jsx)(n.code,{children:"fastapi-demo"})," application that deploys ",(0,t.jsx)(n.code,{children:"Ingress"})," object to expose API outside the Kubernetes cluster."]}),"\n",(0,t.jsxs)(n.p,{children:["Within the ",(0,t.jsx)(n.a,{href:"/docs/3.9/user-guide/gitops",children:"GitOps"})," repository, follow the naming convention ",(0,t.jsx)(n.code,{children:"<pipeline-name>/<stage-name>/<application-name>-values.yaml"})," to create the chart values file. For our case, use ",(0,t.jsx)(n.code,{children:"mypipe/dev/fastapi-demo-values.yaml"})," as the file name."]}),"\n",(0,t.jsxs)(n.p,{children:["Commit ",(0,t.jsx)(n.code,{children:"mypipe/dev/fastapi-demo-values.yaml"})," file to the default branch of the GitOps repository:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="mypipe/dev/fastapi-demo-values.yaml"',children:"ingress:\n  enabled: true\n"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Deploy ",(0,t.jsx)(n.code,{children:"fastapi-demo"})," application to the Environment. Before the new version deployment, check the ingress object in ",(0,t.jsx)(n.code,{children:"dev"})," environment:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ kubectl get ingress -n ${EDP_ENV}-mypipe-dev\nNo resources found in ${EDP_ENV}-mypipe-dev namespace.\n"})}),"\n",(0,t.jsx)(n.p,{children:"No ingress object exists as expected."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Deploy ",(0,t.jsx)(n.code,{children:"fastapi-demo"})," application which has the ingress object in place. Since we use ",(0,t.jsx)(n.code,{children:"Manual"})," deployment approach, we perform version upgrade by hand."]}),"\n",(0,t.jsxs)(n.p,{children:["To ensure our application recognizes the changes in the GitOps repository related to enabling the creation of the ",(0,t.jsx)(n.code,{children:"Ingress"})," resource, we need to set the ",(0,t.jsx)(n.strong,{children:"Override values"})," checkbox to ",(0,t.jsx)(n.code,{children:"true"})," before deploying."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Go to the ",(0,t.jsx)(n.strong,{children:"Environments"})," section of the UI Portal, select ",(0,t.jsx)(n.code,{children:"mypipe"})," and choose ",(0,t.jsx)(n.strong,{children:"dev"})," stage."]}),"\n",(0,t.jsxs)(n.li,{children:["In the ",(0,t.jsx)(n.strong,{children:"Select image tag"})," section select the version ",(0,t.jsx)(n.code,{children:"0.0.1-SNAPSHOT.1"})]}),"\n",(0,t.jsxs)(n.li,{children:["Set the ",(0,t.jsx)(n.strong,{children:"Override values"})," checkbox to ",(0,t.jsx)(n.code,{children:"true"})," and push the ",(0,t.jsx)(n.strong,{children:"Start deploy"})," button."]}),"\n",(0,t.jsxs)(n.li,{children:["Check that the application is deployed: application status is ",(0,t.jsx)(n.code,{children:"Healthy"})," and ",(0,t.jsx)(n.code,{children:"Synced"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"CD Pipeline Deploy New Version",src:i(35701).A+"",width:"3364",height:"1348"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Check that the new version with Ingress is deployed:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Check Ingress object\nkubectl get ingress -n ${EDP_ENV}-mypipe-dev\nNAME           CLASS    HOSTS                                     ADDRESS          PORTS   AGE\nfastapi-demo   <none>   fastapi-demo-ko1zs-example.com         10.100.182.134        80    14m\n\n# Check application external URL\ncurl https://your-hostname-appeared-in-hosts-column-above.example.com/\n{"Hello":"World"}\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"related-articles",children:"Related Articles"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/docs/3.9/use-cases/",children:"Use Cases"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(r,{...e})}):r(e)}},26441:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/build-application-6fa27756baf6abc31d265d6d73cabe9d.png"},80730:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/build-in-process-16dd92845886adda224b7685a9805759.png"},98280:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/cd-pipeline-f8128f089e0c2080fad2aad46539cb21.png"},74034:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/create-application-advance-bbd4dacd793e76f9d99c09eee024c088.png"},48759:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/create-application-a8b6ad89d83292a9138d1b4fc96705c0.png"},39985:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/create-cd-pipeline-window-2-4f2776c5542d9ab12b98efd016f1e5db.png"},93924:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/create-cd-pipeline-window-55267e42408c4aa6bfc4db4358778f6d.png"},65843:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/create-stage-4e7eae7396470042cd622f0335575d6e.png"},32302:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/deploy-is-healthy-a297d511f7f5cfea0794b5ac28b34efb.png"},35701:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/deploy-with-override-b2aa1944b2d02531772a41e7eba8260b.png"},89631:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/ready-component-979637f540a376aa1af7107874709b7e.png"},84730:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/start-deploy-a48218093506d58eda196b9c6c4ec43c.png"},80018:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/component-strategy-517bb87e683750f3b440662cf410190b.png"},22653:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/component-type-2f5400caf2a57425bc0c09118147e158.png"},10547:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/components-c990b2eaf4a4e71b20e2ba71e015c191.png"},54208:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/create-cd-pipeline-c1f6f274764cddbe514d7d986674ef76.png"},36312:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/login-847da373e3eb52fd46ac9274e082515a.png"},59608:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/settings-07be6924b3afbb43b1d7b1ce64e3b569.png"},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>c});var s=i(96540);const t={},l=s.createContext(t);function o(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);