"use strict";(self.webpackChunkkuberocketci_docs=self.webpackChunkkuberocketci_docs||[]).push([[94185],{94385:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"operator-guide/cd/deploy-application-in-remote-cluster-via-irsa","title":"Deploy Application In Remote Cluster via IRSA","description":"Learn how to securely deploy applications across AWS accounts using IRSA (IAM Roles for Service Accounts) in KubeRocketCI. Step-by-step guide for EKS cross-account access configuration.","source":"@site/docs/operator-guide/cd/deploy-application-in-remote-cluster-via-irsa.md","sourceDirName":"operator-guide/cd","slug":"/operator-guide/cd/deploy-application-in-remote-cluster-via-irsa","permalink":"/docs/next/operator-guide/cd/deploy-application-in-remote-cluster-via-irsa","draft":false,"unlisted":false,"editUrl":"https://github.com/KubeRocketCI/docs/edit/main/docs/operator-guide/cd/deploy-application-in-remote-cluster-via-irsa.md","tags":[],"version":"current","lastUpdatedBy":"oleksandr_taruraiev","lastUpdatedAt":1741362244000,"frontMatter":{"title":"Deploy Application In Remote Cluster via IRSA","sidebar_label":"Deploy Application In Remote Cluster via IRSA","description":"Learn how to securely deploy applications across AWS accounts using IRSA (IAM Roles for Service Accounts) in KubeRocketCI. Step-by-step guide for EKS cross-account access configuration."},"sidebar":"operatorGuideSidebar","previous":{"title":"Deployment Strategies Overview","permalink":"/docs/next/operator-guide/cd/auto-stable-trigger-type"},"next":{"title":"Argo CD Integration","permalink":"/docs/next/operator-guide/cd/argocd-integration"}}');var s=t(74848),a=t(28453),c=t(65537),i=t(79329);const o={title:"Deploy Application In Remote Cluster via IRSA",sidebar_label:"Deploy Application In Remote Cluster via IRSA",description:"Learn how to securely deploy applications across AWS accounts using IRSA (IAM Roles for Service Accounts) in KubeRocketCI. Step-by-step guide for EKS cross-account access configuration."},l="Deploy Application In Remote Cluster via IRSA",d={},u=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Roles",id:"roles",level:2},{value:"Required IAM Roles, and polices for KRCI",id:"required-iam-roles-and-polices-for-krci",level:3},{value:"Required IAM Roles and Policies for ArgoCD Cross-Account Deployment",id:"required-iam-roles-and-policies-for-argocd-cross-account-deployment",level:3},{value:"Add annotations to service accounts (Account A)",id:"add-annotations-to-service-accounts-account-a",level:2},{value:"Add annotations to cd-pipeline-operator service account (Account A)",id:"add-annotations-to-cd-pipeline-operator-service-account-account-a",level:3},{value:"Annotate Service Accounts in Kubernetes (Account A)",id:"annotate-service-accounts-in-kubernetes-account-a",level:3},{value:"Define Argo CD Project for Remote Clusters (Account A)",id:"define-argo-cd-project-for-remote-clusters-account-a",level:2},{value:"Update aws_auth ConfigMap in Target Cluster (Account B)",id:"update-aws_auth-configmap-in-target-cluster-account-b",level:2},{value:"Create ClusterCore and ClusterRoleBinding (Account B)",id:"create-clustercore-and-clusterrolebinding-account-b",level:2},{value:"Clusters secret configuration",id:"clusters-secret-configuration",level:2},{value:"KuberocketCI IRSA cluster connection secret configuration",id:"kuberocketci-irsa-cluster-connection-secret-configuration",level:3},{value:"ArgoCD IRSA cluster connection secret configuration",id:"argocd-irsa-cluster-connection-secret-configuration",level:3},{value:"Update KuberocketCI configmap add new cluster",id:"update-kuberocketci-configmap-add-new-cluster",level:2},{value:"Deploy application on new cluster",id:"deploy-application-on-new-cluster",level:2},{value:"Create Deployment Flow",id:"create-deployment-flow",level:3},{value:"Create IRSA cluster Environment",id:"create-irsa-cluster-environment",level:3},{value:"Deployed application summary",id:"deployed-application-summary",level:3}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components},{Details:r,Head:o}=n;return r||h("Details",!0),o||h("Head",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"deploy-application-in-remote-cluster-via-irsa",children:"Deploy Application In Remote Cluster via IRSA"})}),"\n",(0,s.jsx)(o,{children:(0,s.jsx)("link",{rel:"canonical",href:"https://docs.kuberocketci.io/docs/operator-guide/cd/deploy-application-in-remote-cluster-via-irsa"})}),"\n",(0,s.jsx)(n.p,{children:"KubeRocketCI provides the capability to deploy applications securely using IAM Roles for Service Accounts (IRSA) in AWS EKS.\nThis integration enables Kubernetes pods to assume IAM roles for secure and temporary access to AWS resources, eliminating the need for long-lived credentials. While the deployment process is streamlined for most users, the platform also supports advanced configurations for custom permissions and role management, ensuring flexibility for more complex scenarios."}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.p,{children:["To start using this approach, you need to have OIDC (OpenID Connect) already configured for your EKS cluster. This setup allows Kubernetes service accounts to securely assume IAM roles. For your convenience, please follow our documentation ",(0,s.jsx)(n.a,{href:"/docs/next/operator-guide/auth/configure-keycloak-oidc-eks",children:"EKS OIDC With Keycloak"}),". This setup seamlessly integrates OIDC with minimal effort."]}),"\n",(0,s.jsx)(n.h2,{id:"roles",children:"Roles"}),"\n",(0,s.jsx)(n.p,{children:"Cross-account interaction is performed through IRSA with a two-tiered IAM role setup:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"In AWS Account A, the EKS cluster runs a kuberocketci cd-pipeline-operator with service account."}),"\n",(0,s.jsxs)(n.li,{children:["This service account obtains temporary credentials through IRSA, which are associated with the ",(0,s.jsx)(n.code,{children:"AWSIRSA_\\{cluster_name\\}_CDPipelineOperator"})," role."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"AWSIRSA_\\{cluster_name\\}_CDPipelineOperator"})," can then assume the ",(0,s.jsx)(n.code,{children:"AWSIRSA_\\{cluster_name\\}_CDPipelineAgent"})," role in AWS Account B."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"AWSIRSA_\\{cluster_name\\}_CDPipelineAgent"})," configures the environment (Stage) by creating namespaces, generating service accounts, copying secrets, and preparing for deployment."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"required-iam-roles-and-polices-for-krci",children:"Required IAM Roles, and polices for KRCI"}),"\n",(0,s.jsx)(n.p,{children:"Trust policy for the initial IRSA role that the service account assumes."}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("b",{children:"View: AWSIRSA_{cluster_name}_CDPipelineOperator (AWS Account A)"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "Version": "2012-10-17",\n    "Statement": [\n        {\n            "Effect": "Allow",\n            "Principal": {\n                "Federated": "arn:aws:iam::<AWS_ACCOUNT_A_ID>:oidc-provider/oidc.eks.<AWS_REGION>.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE"\n            },\n            "Action": "sts:AssumeRoleWithWebIdentity",\n            "Condition": {\n                "StringEquals": {\n                    "oidc.eks.<AWS_REGION>.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE:sub": [\n                        "system:serviceaccount:krci:edp-cd-pipeline-operator"\n                    ]\n                }\n            }\n        },\n        {\n            "Effect": "Allow",\n            "Principal": {\n                "AWS": "arn:aws:iam::<AWS_ACCOUNT_A_ID>:AWSIRSA_{cluster_name}_CDPipelineOperator"\n            },\n            "Action": "sts:AssumeRole",\n            "Condition": {}\n        }\n    ]\n}\n'})})]}),"\n",(0,s.jsx)(n.p,{children:"Policy allows assuming roles in Account B."}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("b",{children:"View: AWSIRSA_{cluster_name}_CDPipelineAssume (AWS Account A)"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "Version": "2012-10-17",\n  "Statement": [\n    {\n      "Effect": "Allow",\n      "Action": "sts:AssumeRole",\n      "Resource": "arn:aws:iam::<AWS_ACCOUNT_B_ID>:role/AWSIRSA_{cluster_name}_CDPipelineAgent"\n    }\n  ]\n}\n'})})]}),"\n",(0,s.jsx)(n.p,{children:"Trust policy to control access to Account B resources."}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("b",{children:"View: AWSIRSA_{cluster_name}_CDPipelineAgent (AWS Account B)"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "Version": "2012-10-17",\n  "Statement": [\n    {\n      "Effect": "Allow",\n      "Principal": {\n        "AWS": "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_CDPipelineOperator"\n      },\n      "Action": "sts:AssumeRole"\n    },\n    {\n      "Effect": "Allow",\n      "Principal": {\n        "Federated": "arn:aws:iam::<AWS_ACCOUNT_B_ID>:oidc-provider/oidc.eks.<AWS_REGION>.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE"\n      },\n      "Action": "sts:AssumeRoleWithWebIdentity",\n      "Condition": {\n        "StringLike": {\n          "oidc.eks.<AWS_REGION>.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE:sub": "system:serviceaccount:*"\n        }\n      }\n    }\n  ]\n}\n'})})]}),"\n",(0,s.jsx)(n.p,{children:"Policy defines permissions for deployments."}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("b",{children:"View: AWSIRSA_{cluster_name}_CDPipelineClusterAccess (AWS Account B)"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "Version": "2012-10-17",\n  "Statement": [\n    {\n      "Effect": "Allow",\n      "Action": [\n        "eks:DescribeCluster",\n        "eks:ListClusters",\n        "eks:AccessKubernetesApi"\n      ],\n      "Resource": "arn:aws:eks:<AWS_REGION>:<AWS_ACCOUNT_B_ID>:cluster/<cluster-name>"\n    }\n  ]\n}\n'})})]}),"\n",(0,s.jsx)(n.h3,{id:"required-iam-roles-and-policies-for-argocd-cross-account-deployment",children:"Required IAM Roles and Policies for ArgoCD Cross-Account Deployment"}),"\n",(0,s.jsx)(n.p,{children:"This section outlines the necessary IAM roles and policies required for ArgoCD to manage Kubernetes clusters across AWS accounts securely. The setup follows AWS best practices by using IAM Roles for Service Accounts (IRSA) and cross-account access to limit privileges effectively."}),"\n",(0,s.jsx)(n.p,{children:"This IAM role is used by ArgoCD to authenticate via OIDC and assume required permissions."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"ArgoCD IRSA access model",src:t(70437).A+"",title:"ArgoCD IRSA access model",width:"952",height:"362"})}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("b",{children:"View: AWSIRSA_{cluster_name}_ArgoCDMaster (AWS Account A)"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "Version": "2012-10-17",\n    "Statement": [\n        {\n            "Effect": "Allow",\n            "Principal": {\n                "AWS": "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_ArgoCDMaster"\n            },\n            "Action": "sts:AssumeRole"\n        },\n        {\n            "Effect": "Allow",\n            "Principal": {\n                "Federated": "arn:aws:iam::<AWS_ACCOUNT_B_ID>:oidc-provider/oidc.eks.<AWS_REGION>.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE"\n            },\n            "Action": "sts:AssumeRoleWithWebIdentity",\n            "Condition": {\n                "StringLike": {\n                    "oidc.eks.<AWS_REGION>.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE:sub": "system:serviceaccount:*"\n                },\n                "StringEquals": {\n                    "oidc.eks.<AWS_REGION>.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE:aud": "sts.amazonaws.com"\n                }\n            }\n        }\n    ]\n}\n'})})]}),"\n",(0,s.jsx)(n.p,{children:"This policy allows ArgoCD in Account A to describe and access the EKS cluster in Account B."}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("b",{children:"View: AWSIRSA_{cluster_name}_ArgoCDMasterClusterAccess (AWS Account A)"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "Version": "2012-10-17",\n    "Statement": [\n        {\n            "Effect": "Allow",\n            "Action": [\n                "eks:DescribeCluster",\n                "eks:ListClusters",\n                "eks:AccessKubernetesApi"\n            ],\n            "Resource": "arn:aws:eks:<AWS_REGION>:<AWS_ACCOUNT_B_ID>:cluster/<cluster-name>"\n        }\n    ]\n}\n'})})]}),"\n",(0,s.jsx)(n.p,{children:"This role allows ArgoCD service accounts to assume permissions necessary for managing deployments in Account B."}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("b",{children:"View: AWSIRSA_{cluster_name}_ArgoCDAgentAccess (AWS Account B)"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "Version": "2012-10-17",\n  "Statement": [\n    {\n      "Effect": "Allow",\n      "Principal": {\n        "Federated": "arn:aws:iam::<AWS_ACCOUNT_A_ID>:oidc-provider/oidc.eks.<AWS_REGION>.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE"\n      },\n      "Action": "sts:AssumeRoleWithWebIdentity",\n      "Condition": {\n        "StringEquals": {\n          "oidc.eks.<AWS_REGION>.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE:sub": [\n            "system:serviceaccount:argocd:argocd-application-controller",\n            "system:serviceaccount:argocd:argocd-applicationset-controller",\n            "system:serviceaccount:argocd:argocd-server"\n          ],\n          "oidc.eks.<AWS_REGION>.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE:aud": "sts.amazonaws.com"\n        }\n      }\n    }\n  ]\n}\n'})})]}),"\n",(0,s.jsx)(n.p,{children:"This role enables ArgoCD to assume the necessary permissions within the EKS cluster in Account B."}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("b",{children:"View: AWSIRSA_{cluster_name}_ArgoCDAssume (AWS Account B)"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "Version": "2012-10-17",\n    "Statement": [\n        {\n            "Effect": "Allow",\n            "Action": "sts:AssumeRole",\n            "Resource": "arn:aws:iam::<AWS_ACCOUNT_B_ID>:role/AWSIRSA_{cluster_name}_ArgoCDAgentAccess"\n        }\n    ]\n}\n'})})]}),"\n",(0,s.jsx)(n.h2,{id:"add-annotations-to-service-accounts-account-a",children:"Add annotations to service accounts (Account A)"}),"\n",(0,s.jsx)(n.h3,{id:"add-annotations-to-cd-pipeline-operator-service-account-account-a",children:"Add annotations to cd-pipeline-operator service account (Account A)"}),"\n",(0,s.jsxs)(c.A,{defaultValue:"patch",values:[{label:"patch",value:"patch"},{label:"Manifests",value:"manifests"}],children:[(0,s.jsx)(i.A,{value:"patch",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="ServiceAccount: edp-cd-pipeline-operator"',children:'kubectl patch serviceaccount edp-cd-pipeline-operator -n krci \\\n  -p \'{"metadata": {"annotations": {"eks.amazonaws.com/role-arn": "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_CDPipelineOperator"}}}\'\n'})})}),(0,s.jsx)(i.A,{value:"manifests",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="ServiceAccount: edp-cd-pipeline-operator"',children:'apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  annotations:\n    eks.amazonaws.com/role-arn: "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_CDPipelineOperator"\n  name: edp-cd-pipeline-operator\n  namespace: krci\n'})})})]}),"\n",(0,s.jsx)(n.p,{children:"After applying annotations to service accounts, it is necessary to restart the corresponding deployments to ensure new pods are created with the updated IAM roles configuration. Use the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl rollout restart deployment cd-pipeline-operator -n krci\n"})}),"\n",(0,s.jsx)(n.h3,{id:"annotate-service-accounts-in-kubernetes-account-a",children:"Annotate Service Accounts in Kubernetes (Account A)"}),"\n",(0,s.jsx)(n.p,{children:"Annotate the service accounts in the account where Argo CD is located with the corresponding role ARN:"}),"\n",(0,s.jsxs)(c.A,{defaultValue:"patch",values:[{label:"patch",value:"patch"},{label:"Manifests",value:"manifests"}],children:[(0,s.jsxs)(i.A,{value:"patch",children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="ServiceAccount: argocd-application-controller"',children:'\nkubectl patch serviceaccount argocd-application-controller -n argocd \\\n  -p \'{"metadata": {"annotations": {"eks.amazonaws.com/role-arn": "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_ArgoCDMaster"}}}\'\n'})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="ServiceAccount: argocd-applicationset-controller"',children:'\nkubectl patch serviceaccount argocd-applicationset-controller -n argocd \\\n  -p \'{"metadata": {"annotations": {"eks.amazonaws.com/role-arn": "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_ArgoCDMaster"}}}\'\n'})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="ServiceAccount: argocd-server"',children:'\nkubectl patch serviceaccount argocd-server -n argocd \\\n  -p \'{"metadata": {"annotations": {"eks.amazonaws.com/role-arn": "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_ArgoCDMaster"}}}\'\n'})})]}),(0,s.jsx)(i.A,{value:"manifests",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="ServiceAccount: argocd service accounts"',children:'apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  annotations:\n    eks.amazonaws.com/role-arn: "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_ArgoCDMaster"\n  name: argocd-application-controller\n  namespace: argocd\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  annotations:\n    eks.amazonaws.com/role-arn: "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_ArgoCDMaster"\n  name: argocd-applicationset-controller\n  namespace: argocd\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  annotations:\n    eks.amazonaws.com/role-arn: "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_ArgoCDMaster"\n  name: argocd-server\n  namespace: argocd\n'})})})]}),"\n",(0,s.jsx)(n.p,{children:"After applying annotations to service accounts, it is necessary to restart the corresponding workloads to ensure new pods are created with the updated IAM roles configuration. . Use the following commands:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl delete pod -l app.kubernetes.io/name=argocd-application-controller -n argocd\n\nkubectl delete pod -l app.kubernetes.io/name=argocd-applicationset-controller -n argocd\n\nkubectl delete pod -l app.kubernetes.io/name=argocd-server -n argocd\n"})}),"\n",(0,s.jsx)(n.h2,{id:"define-argo-cd-project-for-remote-clusters-account-a",children:"Define Argo CD Project for Remote Clusters (Account A)"}),"\n",(0,s.jsx)(n.p,{children:"Update the Argo CD project to add a new destination for the remote cluster:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"apiVersion: argoproj.io/v1alpha1\nkind: AppProject\nmetadata:\n  name: krci\n  namespace: argocd\nspec:\n  destinations:\n    - namespace: krci-*\n      server: https://EXAMPLED539D4633E53DE1B71EXAMPLE.gr7.<AWS_REGION>.eks.amazonaws.com\n"})}),"\n",(0,s.jsx)(n.h2,{id:"update-aws_auth-configmap-in-target-cluster-account-b",children:"Update aws_auth ConfigMap in Target Cluster (Account B)"}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("b",{children:"View: aws-auth-configmap.yaml"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: aws-auth\n  namespace: kube-system\ndata:\n  mapRoles: |\n    - groups:\n      - "cd-pipeline-operator"\n      rolearn: "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_CDPipelineOperator"\n      username: "eksadminrole"\n    - groups:\n      - "system:masters"\n      rolearn: "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_ArgoCDMaster"\n      username: "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_ArgoCDMaster"\n'})})]}),"\n",(0,s.jsx)(n.h2,{id:"create-clustercore-and-clusterrolebinding-account-b",children:"Create ClusterCore and ClusterRoleBinding (Account B)"}),"\n",(0,s.jsxs)(c.A,{defaultValue:"kubectl",values:[{label:"kubectl",value:"kubectl"},{label:"Manifests",value:"manifests"}],children:[(0,s.jsx)(i.A,{value:"kubectl",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="ServiceAccount: argocd-application-controller"',children:"kubectl create clusterrole cd-pipeline-rolebinding-access \\\n  --verb=get,list,create,delete \\\n  --resource=rolebindings.rbac.authorization.k8s.io \\\n  --verb=create,get,list \\\n  --resource=secrets\n\nkubectl create clusterrolebinding cd-pipeline-operator-rolebinding-access \\\n  --clusterrole=cd-pipeline-rolebinding-access \\\n  --group=cd-pipeline-operator\n"})})}),(0,s.jsxs)(i.A,{value:"manifests",children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="cd-pipeline-rolebinding-access.yaml"',children:"apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: cd-pipeline-rolebinding-access\nrules:\n  - verbs:\n      - get\n      - list\n      - create\n      - delete\n    apiGroups:\n      - rbac.authorization.k8s.io\n    resources:\n      - rolebindings\n  - verbs:\n      - create\n      - get\n      - list\n    apiGroups:\n      - ''\n    resources:\n      - secrets\n"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="cd-pipeline-operator-rolebinding-access.yaml"',children:"apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: cd-pipeline-operator-rolebinding-access\nsubjects:\n  - kind: Group\n    apiGroup: rbac.authorization.k8s.io\n    name: cd-pipeline-operator\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: cd-pipeline-rolebinding-access\n"})})]})]}),"\n",(0,s.jsx)(n.h2,{id:"clusters-secret-configuration",children:"Clusters secret configuration"}),"\n",(0,s.jsx)(n.h3,{id:"kuberocketci-irsa-cluster-connection-secret-configuration",children:"KuberocketCI IRSA cluster connection secret configuration"}),"\n",(0,s.jsx)(n.p,{children:"This configuration enables secure cluster connection using IAM Roles for Service Accounts (IRSA) in AWS. You can set it up using one of the following methods:"}),"\n",(0,s.jsxs)(c.A,{defaultValue:"kuberocketci",values:[{label:"KubeRocketCI portal",value:"kuberocketci"},{label:"Manifests",value:"manifests"},{label:"External Secrets Operator",value:"externalsecret"}],children:[(0,s.jsxs)(i.A,{value:"kuberocketci",children:[(0,s.jsxs)(n.p,{children:["Navigate to ",(0,s.jsx)(n.strong,{children:"KuberocketCI portal"})," -> ",(0,s.jsx)(n.strong,{children:"Configuration"})," -> ",(0,s.jsx)(n.strong,{children:"DEPLOYMENT"})," -> ",(0,s.jsx)(n.strong,{children:"CLUSTERS"})," and click the ",(0,s.jsx)(n.strong,{children:"+ ADD CLUSTER"})," fill in the following fields and click ",(0,s.jsx)(n.strong,{children:"SAVE"})," button:"]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cluster name"})," : a unique and descriptive name for the new cluster (e.g., prod-cluster)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cluster Host"})," : the cluster\u2019s endpoint URL (e.g., example-cluster-domain.com);"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authority Data"})," : base64-encoded kubernetes certificate essential for authentication. Obtain this certificate from the configuration file of the user account you intend to use for accessing the cluster."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Role ARN"})," : arn:aws:iam::<AWS_ACCOUNT_A_ID>",":role","/AWSIRSA_{cluster_name}_CDPipelineOperator"]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Add cluster IRSA",src:t(22775).A+"",title:"Add cluster IRSA",width:"1875",height:"1209"})})]}),(0,s.jsx)(i.A,{value:"manifests",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: Secret\nmetadata:\n  name: <cluster-name>-cluster\n  namespace: krci\n  labels:\n    app.edp.epam.com/cluster-type: irsa\n    app.edp.epam.com/secret-type: cluster\n    argocd.argoproj.io/secret-type: cluster\ndata:\n  config: >-\n    {\n      "server": "https://EXAMPLED539D4633E53DE1B71EXAMPLE.gr7.<AWS_REGION>.eks.amazonaws.com",\n      "awsAuthConfig": {\n        "clusterName": "<cluster-name>",\n        "roleARN": "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_CDPipelineOperator"\n      },\n      "tlsClientConfig": {\n        "insecure": false,\n        "caData": "<Base64-encoded CA certificate of the target cluster>"\n      }\n    }\n  name: "<cluster-name>"\n  server: "https://EXAMPLED539D4633E53DE1B71EXAMPLE.gr7.<AWS_REGION>.eks.amazonaws.com"\n'})})}),(0,s.jsx)(i.A,{value:"externalsecret",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"<cluster-name>-cluster": {\n  "config": {\n    "server": "https://EXAMPLED539D4633E53DE1B71EXAMPLE.gr7.<AWS_REGION>.eks.amazonaws.com",\n    "awsAuthConfig": {\n      "clusterName": "<cluster-name>",\n      "roleARN": "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_CDPipelineOperator"\n    },\n    "tlsClientConfig": {\n      "insecure": false,\n      "caData": "<Base64-encoded CA certificate of the target cluster>"\n    }\n  },\n  "name": "<cluster-name>",\n  "server": "https://EXAMPLED539D4633E53DE1B71EXAMPLE.gr7.<AWS_REGION>.eks.amazonaws.com"\n}\n'})})})]}),"\n",(0,s.jsx)(n.h3,{id:"argocd-irsa-cluster-connection-secret-configuration",children:"ArgoCD IRSA cluster connection secret configuration"}),"\n",(0,s.jsxs)(c.A,{defaultValue:"manifests",values:[{label:"Manifests",value:"manifests"},{label:"External Secrets Operator",value:"externalsecret"}],children:[(0,s.jsx)(i.A,{value:"manifests",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: Secret\nmetadata:\n  name: <cluster-name>-cluster\n  namespace: argocd\n  labels:\n    argocd.argoproj.io/secret-type: cluster\nstringData:\n  config: |\n    {\n      "awsAuthConfig": {\n        "clusterName": "<cluster-name>",\n        "roleARN": "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_ArgoCDMaster"\n      },\n      "tlsClientConfig": {\n        "insecure": false,\n        "caData": "<Base64-encoded CA certificate of the target cluster>"\n      }\n    }\n  name: "<cluster-name>"\n  server: "https://EXAMPLED539D4633E53DE1B71EXAMPLE.gr7.<AWS_REGION>.eks.amazonaws.com"\n'})})}),(0,s.jsx)(i.A,{value:"externalsecret",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"<cluster-name>-cluster": {\n  "config": {\n    "awsAuthConfig": {\n      "clusterName": "<cluster-name>",\n      "roleARN": "arn:aws:iam::<AWS_ACCOUNT_A_ID>:role/AWSIRSA_{cluster_name}_ArgoCDMaster"\n    },\n    "tlsClientConfig": {\n      "insecure": false,\n      "caData": "<Base64-encoded CA certificate of the target cluster>"\n    }\n  },\n  "name": "<cluster-name>",\n  "server": "https://EXAMPLED539D4633E53DE1B71EXAMPLE.gr7.<AWS_REGION>.eks.amazonaws.com"\n}\n'})})})]}),"\n",(0,s.jsxs)(n.p,{children:["After applying the configuration, you can verify the cluster connection ",(0,s.jsx)(n.code,{children:"ArgoCD"})," -> ",(0,s.jsx)(n.code,{children:"Settings"})," -> ",(0,s.jsx)(n.code,{children:"Clusters"})," -> ",(0,s.jsx)(n.code,{children:"<cluster-name>"}),":"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"ArgoCD cluster IRSA status",src:t(31466).A+"",title:"ArgoCD cluster IRSA status",width:"1854",height:"1193"})}),"\n",(0,s.jsx)(n.h2,{id:"update-kuberocketci-configmap-add-new-cluster",children:"Update KuberocketCI configmap add new cluster"}),"\n",(0,s.jsxs)(n.p,{children:["To add cluster to the KuberocketCI platform click on ",(0,s.jsx)(n.code,{children:"kubernetes"})," icon -> ",(0,s.jsx)(n.code,{children:"Configuration"})," -> ",(0,s.jsx)(n.code,{children:"ConfigMap"})," -> ",(0,s.jsx)(n.code,{children:"edp-config"})," and add parameter ",(0,s.jsx)(n.code,{children:"available_clusters"})," in data with value ",(0,s.jsx)(n.code,{children:"<cluster-name>"})," and click ",(0,s.jsx)(n.strong,{children:"Save & apply"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="edp-config.yaml"',children:"data:\n  available_clusters: <cluster-name>\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Add cluster via configmap edp-config",src:t(49054).A+"",title:"Add cluster via configmap edp-config",width:"1912",height:"1208"})}),"\n",(0,s.jsx)(n.h2,{id:"deploy-application-on-new-cluster",children:"Deploy application on new cluster"}),"\n",(0,s.jsx)(n.h3,{id:"create-deployment-flow",children:"Create Deployment Flow"}),"\n",(0,s.jsx)(n.p,{children:"To create a deployment flow, follow the steps below:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Navigate to the ",(0,s.jsx)(n.strong,{children:"Deployment Flows"})," tab and click the ",(0,s.jsx)(n.strong,{children:"+ Create Deployment Flow"})," button."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Enter name"})," tab of the ",(0,s.jsx)(n.strong,{children:"Create Deployment Flow"}),":"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Create deployment flow",src:t(56269).A+"",title:"Create deployment flow",width:"1912",height:"1208"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Enter the deployment flow name that will be displayed in the Deployment Flows list. Enter at least two characters, use the lower-case letters, numbers, and dashes."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Next"})," button to move onto the ",(0,s.jsx)(n.strong,{children:"Add applications"})," tab."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["The namespace created by the environment has the following pattern combination: ",(0,s.jsx)(n.strong,{children:"[KubeRocketCI namespace]-[environment name]-[stage name]"}),".\nPlease be aware that the namespace length should not exceed 63 symbols."]})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"The Component tab of the Environments menu is presented below:"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Create deployment flow",src:t(92462).A+"",title:"Add cluster via configmap edp-config",width:"1912",height:"1208"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"Click the Create button to finish deployment flow configuration and proceed with configuring environment."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"create-irsa-cluster-environment",children:"Create IRSA cluster Environment"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"On the Environments menu, click the Create Environment button."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"The Configure Stage tab of the Create Stage menu is presented below:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Select cluster",src:t(50614).A+"",title:"Select cluster",width:"1912",height:"1208"})}),"\n",(0,s.jsx)(n.p,{children:"Set the proper cluster options:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cluster"})," - Choose the ",(0,s.jsx)(n.code,{children:"<cluster-name>"})," to deploy the stage in;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Stage name"})," - Enter the stage name;"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"})," - Enter the description for this stage;"]}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Click the Next button to move onto the Add quality gates tab."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Click the Create button to start the provisioning of the pipeline. cluster-irsa-krci-deployed-application.png"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Environment overview",src:t(21510).A+"",title:"Environment overview",width:"1912",height:"1208"})}),"\n",(0,s.jsx)(n.h3,{id:"deployed-application-summary",children:"Deployed application summary"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Environment overview",src:t(45620).A+"",title:"Environment overview",width:"1912",height:"1208"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"ArgoCD deployed application summary",src:t(74635).A+"",title:"ArgoCD deployed application summary",width:"1854",height:"1193"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/next/operator-guide/cd/argocd-integration",children:"Argo CD Integration"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/next/user-guide/add-cluster",children:"Add Cluster"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/next/user-guide/add-application",children:"Add Application"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/next/user-guide/add-cd-pipeline",children:"Add CD Pipeline"})}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}function h(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},79329:(e,n,t)=>{t.d(n,{A:()=>c});t(96540);var r=t(34164);const s={tabItem:"tabItem_Ymn6"};var a=t(74848);function c(e){let{children:n,hidden:t,className:c}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,c),hidden:t,children:n})}},65537:(e,n,t)=>{t.d(n,{A:()=>S});var r=t(96540),s=t(34164),a=t(65627),c=t(56347),i=t(50372),o=t(30604),l=t(11861),d=t(78749);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:s}}=e;return{value:n,label:t,attributes:r,default:s}}))}(t);return function(e){const n=(0,l.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function m(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function h(e){let{queryString:n=!1,groupId:t}=e;const s=(0,c.W6)(),a=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,o.aZ)(a),(0,r.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(s.location.search);n.set(a,e),s.replace({...s.location,search:n.toString()})}),[a,s])]}function A(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,a=p(e),[c,o]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:a}))),[l,u]=h({queryString:t,groupId:s}),[A,g]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,a]=(0,d.Dv)(t);return[s,(0,r.useCallback)((e=>{t&&a.set(e)}),[t,a])]}({groupId:s}),f=(()=>{const e=l??A;return m({value:e,tabValues:a})?e:null})();(0,i.A)((()=>{f&&o(f)}),[f]);return{selectedValue:c,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),g(e)}),[u,g,a]),tabValues:a}}var g=t(9136);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=t(74848);function j(e){let{className:n,block:t,selectedValue:r,selectValue:c,tabValues:i}=e;const o=[],{blockElementScrollPositionUntilNextRender:l}=(0,a.a_)(),d=e=>{const n=e.currentTarget,t=o.indexOf(n),s=i[t].value;s!==r&&(l(n),c(s))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:a}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>{o.push(e)},onKeyDown:u,onClick:d,...a,className:(0,s.A)("tabs__item",f.tabItem,a?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function v(e){let{lazy:n,children:t,selectedValue:a}=e;const c=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=c.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:c.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function b(e){const n=A(e);return(0,x.jsxs)("div",{className:(0,s.A)("tabs-container",f.tabList),children:[(0,x.jsx)(j,{...n,...e}),(0,x.jsx)(v,{...n,...e})]})}function S(e){const n=(0,g.A)();return(0,x.jsx)(b,{...e,children:u(e.children)},String(n))}},22775:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/cluster-irsa-add-cluster-ed19635d01ca8e314d6e567fe0f100d7.png"},70437:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/cluster-irsa-argocd-acess-model-67e5a74261aa5884544d7826ea4a2a6d.jpg"},31466:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/cluster-irsa-argocd-status-729e43415e4951838e4212466f43eb4b.png"},49054:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/cluster-irsa-configmap-edp-config-b9b4d23d1bd8b3364c674f11360e7217.png"},92462:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/cluster-irsa-create-deployment-flow-63ccbe531f14a2ce6772ca0d5cdf0f31.png"},74635:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/cluster-irsa-deployed-application-summary-941827eb1ff1e5776bc39f20de61ffe7.png"},56269:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/cluster-irsa-deployment-flow-31eba1a6760f03dc8800c2d29872c49e.png"},21510:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/cluster-irsa-environment-overview-90eee66232638d06e57dd66d3b0c0914.png"},45620:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/cluster-irsa-krci-deployed-application-839f139e7735677fc4634e91bf53134b.png"},50614:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/cluster-irsa-select-cluster-be4f7d96b45288c9662486189275f74e.png"},28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>i});var r=t(96540);const s={},a=r.createContext(s);function c(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);