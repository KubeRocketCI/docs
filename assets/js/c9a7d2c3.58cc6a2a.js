"use strict";(self.webpackChunkkuberocketci_docs=self.webpackChunkkuberocketci_docs||[]).push([[96555],{3558:(e,t,o)=>{o.d(t,{A:()=>s});const s=o.p+"assets/images/edit-codebase-2a62d97052513e758d90a327e0264ba0.png"},7257:(e,t,o)=>{o.d(t,{A:()=>s});const s=o.p+"assets/images/verify-label-1ce6d3f8dbd1521de7a41430cda92276.png"},8034:(e,t,o)=>{o.d(t,{A:()=>s});const s=o.p+"assets/images/custom-resources-3709ae0492dc0e2a22207e71573ff3d2.png"},15666:(e,t,o)=>{o.d(t,{A:()=>s});const s=o.p+"assets/images/select-codebase-45a4d5da8316867fe91defe4306f88d2.png"},18346:(e,t,o)=>{o.d(t,{A:()=>s});const s=o.p+"assets/images/deletion-locked-706fb5c7172e838984570e48d0cc1872.png"},28453:(e,t,o)=>{o.d(t,{R:()=>r,x:()=>l});var s=o(96540);const i={},n=s.createContext(i);function r(e){const t=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(n.Provider,{value:t},e.children)}},31715:(e,t,o)=>{o.d(t,{A:()=>s});const s=o.p+"assets/images/add-label-61ec16f1f04144d135a935ab2e7d2039.png"},63391:(e,t,o)=>{o.d(t,{A:()=>s});const s=o.p+"assets/images/kubernetes-mode-494dca669f46c576185e30ea6836cc98.png"},68407:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"user-guide/protected-label","title":"Protect Resources From Deletion/Modification","description":"Learn how to use the protected label feature in KubeRocketCI to prevent accidental deletion or modification of resources such as codebases, environments, and deployment flows.","source":"@site/versioned_docs/version-3.11/user-guide/protected-label.md","sourceDirName":"user-guide","slug":"/user-guide/protected-label","permalink":"/docs/user-guide/protected-label","draft":false,"unlisted":false,"editUrl":"https://github.com/KubeRocketCI/docs/edit/main/docs/user-guide/protected-label.md","tags":[],"version":"3.11","lastUpdatedBy":"Oleksandr_Stepanov@epam.com","lastUpdatedAt":1743698154000,"frontMatter":{"title":"Protect Resources From Deletion/Modification","sidebar_label":"Protect Resources From Deletion/Modification","description":"Learn how to use the protected label feature in KubeRocketCI to prevent accidental deletion or modification of resources such as codebases, environments, and deployment flows."},"sidebar":"userGuideSidebar","previous":{"title":"Artifact Versioning","permalink":"/docs/user-guide/artifact-versioning"},"next":{"title":"Add Deployment Flow","permalink":"/docs/user-guide/add-cd-pipeline"}}');var i=o(74848),n=o(28453);const r={title:"Protect Resources From Deletion/Modification",sidebar_label:"Protect Resources From Deletion/Modification",description:"Learn how to use the protected label feature in KubeRocketCI to prevent accidental deletion or modification of resources such as codebases, environments, and deployment flows."},l="Protect Resources From Deletion/Modification",d={},c=[{value:"Overview",id:"overview",level:2},{value:"Protection Types",id:"protection-types",level:2},{value:"Apply Protected Label",id:"apply-protected-label",level:2},{value:"Remove Protected Label",id:"remove-protected-label",level:2},{value:"Related Articles",id:"related-articles",level:2}];function a(e){const t={a:"a",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components},{Head:s}=t;return s||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"protect-resources-from-deletionmodification",children:"Protect Resources From Deletion/Modification"})}),"\n",(0,i.jsx)(s,{children:(0,i.jsx)("link",{rel:"canonical",href:"https://docs.kuberocketci.io/docs/user-guide/protected-label"})}),"\n",(0,i.jsx)(t.p,{children:"KubeRocketCI allows to prevent accidental resource deletion and modification by applying a protected label. This page describes the protected label feature, its purpose, types, and usage."}),"\n",(0,i.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(t.p,{children:"Protected label is a Kubernetes label that tells KubeRocketCI to block any delete or edit operations with the resource. The platform checks the label first before performing an operation with the resource."}),"\n",(0,i.jsx)(t.p,{children:"Protected labels support the following resources:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"/docs/api/codebase#codebase",children:"Codebases"}),";"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"/docs/api/codebase#codebasebranch",children:"Codebase branches"}),";"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"/docs/api/cd-pipeline#cdpipeline",children:"Deployment flows"}),";"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"/docs/api/cd-pipeline#stage",children:"Environments"}),"."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"protection-types",children:"Protection Types"}),"\n",(0,i.jsx)(t.p,{children:"Protection label can optionally block specific operations over a resource:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"app.edp.epam.com/edit-protection: delete-update"})," - Blocks both the delete and modify operations;"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"app.edp.epam.com/edit-protection: delete"})," - Blocks only delete operations;"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"app.edp.epam.com/edit-protection: update"})," - Blocks only modify operations."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"apply-protected-label",children:"Apply Protected Label"}),"\n",(0,i.jsx)(t.p,{children:"To apply the resource deletion and modification block, follow the steps below. We will use a codebase resource as an example, but the procedure applies to all the supported resources:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Navigate to the KubeRocketCI portal."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Switch the portal to the Kubernetes mode:"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Kubernetes mode",src:o(63391).A+"",title:"Kubernetes mode",width:"2327",height:"1120"})}),"\n",(0,i.jsxs)(t.ol,{start:"3",children:["\n",(0,i.jsxs)(t.li,{children:["Navigate to ",(0,i.jsx)(t.strong,{children:"Cluster"})," -> ",(0,i.jsx)(t.strong,{children:"Custom resources"}),":"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Custom resources tab",src:o(8034).A+"",title:"Custom resources tab",width:"1923",height:"1114"})}),"\n",(0,i.jsxs)(t.ol,{start:"4",children:["\n",(0,i.jsxs)(t.li,{children:["In the custom resources list, enter ",(0,i.jsx)(t.strong,{children:"Codebase"})," in the filter field to find it and then select it in the list:"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Codebase resource type",src:o(15666).A+"",title:"Codebase resource type",width:"1922",height:"1114"})}),"\n",(0,i.jsxs)(t.ol,{start:"5",children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Enter the codebase you want to protect from accidental deletion and/or modification."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["On the resource details page, click the ",(0,i.jsx)(t.strong,{children:"Edit"})," button:"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Edit button",src:o(3558).A+"",title:"Edit button",width:"1922",height:"1114"})}),"\n",(0,i.jsxs)(t.ol,{start:"7",children:["\n",(0,i.jsxs)(t.li,{children:["In the edit resource window, add the label to the ",(0,i.jsx)(t.strong,{children:"labels"})," section and click ",(0,i.jsx)(t.strong,{children:"Save and apply"}),":"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Add label",src:o(31715).A+"",title:"Add label",width:"1922",height:"1114"})}),"\n",(0,i.jsxs)(t.ol,{start:"8",children:["\n",(0,i.jsx)(t.li,{children:"Make sure the label was applied:"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Verify label",src:o(7257).A+"",title:"Verify label",width:"1922",height:"1114"})}),"\n",(0,i.jsxs)(t.ol,{start:"9",children:["\n",(0,i.jsxs)(t.li,{children:["Switch back to the KubeRocketCI mode, navigate to the ",(0,i.jsx)(t.strong,{children:"Components"})," section and verify that you can't delete or edit the protected codebase:"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Deletion/Modification is locked",src:o(18346).A+"",title:"Deletion/Modification is locked",width:"1922",height:"1114"})}),"\n",(0,i.jsx)(t.h2,{id:"remove-protected-label",children:"Remove Protected Label"}),"\n",(0,i.jsx)(t.p,{children:"To remove a label, navigate back to the resource, edit the resource by removing the label, and save the changes."}),"\n",(0,i.jsx)(t.h2,{id:"related-articles",children:"Related Articles"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"/docs/user-guide/application",children:"Manage Applications"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"/docs/operator-guide/cd/customize-deploy-pipeline",children:"Customize Deploy Pipeline"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"/docs/user-guide/add-cd-pipeline",children:"Add Deployment Flow"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"/docs/user-guide/manage-environments",children:"Manage Deployment Flows"})}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);