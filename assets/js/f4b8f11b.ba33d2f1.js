"use strict";(self.webpackChunkkuberocketci_docs=self.webpackChunkkuberocketci_docs||[]).push([[22065],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>i});var o=t(96540);const s={},a=o.createContext(s);function r(e){const n=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(a.Provider,{value:n},e.children)}},50160:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"operator-guide/troubleshooting/environment-creation","title":"Environment Creation Issues","description":"Troubleshooting steps for resolving environment creation failures in KubeRocketCI due to namespace permission issues, including manual namespace creation and Helm chart configuration adjustments.","source":"@site/versioned_docs/version-3.12/operator-guide/troubleshooting/environment-creation.md","sourceDirName":"operator-guide/troubleshooting","slug":"/operator-guide/troubleshooting/environment-creation","permalink":"/docs/operator-guide/troubleshooting/environment-creation","draft":false,"unlisted":false,"editUrl":"https://github.com/KubeRocketCI/docs/edit/main/docs/operator-guide/troubleshooting/environment-creation.md","tags":[],"version":"3.12","lastUpdatedBy":"Oleksandr_Stepanov@epam.com","lastUpdatedAt":1761723470000,"frontMatter":{"title":"Environment Creation Issues","description":"Troubleshooting steps for resolving environment creation failures in KubeRocketCI due to namespace permission issues, including manual namespace creation and Helm chart configuration adjustments.","sidebar_label":"Environment Creation Issues"},"sidebar":"operatorGuideSidebar","previous":{"title":"Codebase Creation Issues","permalink":"/docs/operator-guide/troubleshooting/codebase-creation-issues"},"next":{"title":"Forbidden Messages","permalink":"/docs/operator-guide/troubleshooting/forbidden-messages"}}');var s=t(74848),a=t(28453);const r={title:"Environment Creation Issues",description:"Troubleshooting steps for resolving environment creation failures in KubeRocketCI due to namespace permission issues, including manual namespace creation and Helm chart configuration adjustments.",sidebar_label:"Environment Creation Issues"},i="Environment Creation Issues",c={},l=[{value:"Problem",id:"problem",level:2},{value:"Cause",id:"cause",level:2},{value:"Solution",id:"solution",level:2},{value:"Related Articles",id:"related-articles",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components},{Head:o}=n;return o||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"environment-creation-issues",children:"Environment Creation Issues"})}),"\n",(0,s.jsx)(o,{children:(0,s.jsx)("link",{rel:"canonical",href:"https://docs.kuberocketci.io/docs/operator-guide/troubleshooting/environment-creation"})}),"\n",(0,s.jsx)(n.h2,{id:"problem",children:"Problem"}),"\n",(0,s.jsx)(n.p,{children:"Failed to create an environment due to the following error:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Failed environment",src:t(75283).A+"",title:"Failed environment",width:"3484",height:"1988"})}),"\n",(0,s.jsx)(n.h2,{id:"cause",children:"Cause"}),"\n",(0,s.jsxs)(n.p,{children:["KubeRocketCI offers several approaches for namespace management: namespaces can be created by users, by KubeRocketCI itself, or by Argo CD. If you expect KubeRocketCI to handle namespace creation, ensure that the ",(0,s.jsx)(n.a,{href:"https://github.com/epam/edp-cd-pipeline-operator",children:"cd-pipeline-operator"}),", a component of KubeRocketCI, has the necessary permissions. This permission is managed by the ",(0,s.jsx)(n.code,{children:"manageNamespace"})," parameter of the ",(0,s.jsx)(n.a,{href:"https://github.com/epam/edp-install/blob/v3.12.3/deploy-templates/values.yaml#L265",children:"values.yaml"})," file."]}),"\n",(0,s.jsxs)(n.p,{children:["If the ",(0,s.jsx)(n.code,{children:"manageNamespace"})," parameter is set to false, it means the KubeRocketCI does not have permission to create namespaces and the procedure of creating namespaces in your project is delegated to a concrete person."]}),"\n",(0,s.jsx)(n.h2,{id:"solution",children:"Solution"}),"\n",(0,s.jsxs)(n.p,{children:["Make sure the ",(0,s.jsx)(n.code,{children:"manageNamespace"})," parameter is intentionally set to ",(0,s.jsx)(n.code,{children:"false"}),". If not, define proper flow for namespace management. Read the ",(0,s.jsx)(n.a,{href:"/docs/operator-guide/auth/namespace-management",children:"Namespace Management"})," page for more details."]}),"\n",(0,s.jsxs)(n.p,{children:["If the parameter was intentionally set to ",(0,s.jsx)(n.code,{children:"false"}),", the solution would be to clarify with your management who is allowed to manage namespaces in your project and request a namespace creation:"]}),"\n",(0,s.jsx)(n.p,{children:"If you are allowed to create namespaces, create it manually:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Open the terminal. Ensure you have access to the cluster from your kubeconfig."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create a namespace using the ",(0,s.jsx)(n.code,{children:"kubectl create namespace"})," command:"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl create namespace <ns>\n"})}),"\n",(0,s.jsx)(n.p,{children:'Usually, the required namespace is shown on the Overview tab of the "failed" Environment:'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Failed environment",src:t(66595).A+"",title:"Failed environment",width:"3484",height:"1988"})}),"\n",(0,s.jsx)(n.h2,{id:"related-articles",children:"Related Articles"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/operator-guide/auth/namespace-management",children:"Namespace Management"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},66595:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/failed_cd_pipeline_creation_namespace-6d28637b8a3c004981810514758ea234.png"},75283:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/failed_cd_pipeline_creation-36524c4c555b5559f8f04793778aebb6.png"}}]);